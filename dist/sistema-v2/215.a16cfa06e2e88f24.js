"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[215],{4215:(fe,D,o)=>{o.r(D),o.d(D,{CollageDegreesModule:()=>de});var g=o(6895),m=o(2510),l=o(4006),w=o(8288),_=o(7579),U=o(4813),u=o(2722),e=o(4650),x=o(7305),Z=o(4031),M=o(6033),b=o(2494),d=o(9549),h=o(4144),f=o(4859);function S(t,r){if(1&t&&(e.TgZ(0,"fuse-alert",18),e._uU(1),e.qZA()),2&t){const a=e.oxw();e.Q6J("appearance","outline")("showIcon",!1)("type",a.alert.type)("@shake","error"===a.alert.type),e.xp6(1),e.hij(" ",a.alert.message," ")}}function J(t,r){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Este campo es obligatorio"),e.qZA())}function N(t,r){if(1&t&&(e.ynx(0),e._uU(1),e.BQk()),2&t){const a=e.oxw().$implicit,i=e.oxw();e.xp6(1),e.hij(" ",i.asignaturaForm.get("name").errors[a]," ")}}function Y(t,r){if(1&t&&(e.TgZ(0,"mat-error"),e.YNc(1,N,2,1,"ng-container",12),e.qZA()),2&t){const a=r.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.asignaturaForm.get("name").hasError(a))}}function L(t,r){if(1&t&&(e.ynx(0),e._uU(1),e.BQk()),2&t){const a=e.oxw().$implicit,i=e.oxw();e.xp6(1),e.hij(" ",i.asignaturaForm.get("description").errors[a]," ")}}function Q(t,r){if(1&t&&(e.TgZ(0,"mat-error"),e.YNc(1,L,2,1,"ng-container",12),e.qZA()),2&t){const a=r.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.asignaturaForm.get("description").hasError(a))}}let A=(()=>{class t{constructor(a,i,s,c,p,pe){this._formBuilder=a,this._collageDegreeService=i,this._activatedRoute=s,this._router=c,this._globalService=p,this._countriesService=pe,this._unsubscribeAll=new _.x,this.alert={type:"success",message:""},this.showAlert=!1,this.mode="crear",this.countries$=this._countriesService.getCountries().pipe((0,U.j)("data"))}ngOnInit(){this.asignaturaForm=this._formBuilder.group({name:[""],description:["",l.kI.required]}),this._activatedRoute.params.pipe((0,u.R)(this._unsubscribeAll)).subscribe(a=>{a.id&&(this.mode="editar",this.id=a.id,this.getCollageDegree(this.id))})}getCollageDegree(a){this._collageDegreeService.get(a).pipe((0,u.R)(this._unsubscribeAll)).subscribe(i=>{this.asignaturaForm.patchValue(i.data),this.asignaturaForm.get("country_id").setValue(i.data.country.id)})}saveAsignatura(){this.asignaturaForm.invalid?this.asignaturaForm.markAllAsTouched():(this.asignaturaForm.disable(),this.asignaturaForm.updateValueAndValidity(),this.showAlert=!1,this._collageDegreeService.create(this.asignaturaForm.value).pipe((0,u.R)(this._unsubscribeAll)).subscribe(()=>{this.asignaturaForm.enable(),this._router.navigate(["/maestrias/lista",{m:1}])},a=>{this.asignaturaForm.enable(),a.message===this._globalService.httpValidationErrorMessage&&(this.asignaturaForm=this._globalService.getValidationErrors(this.asignaturaForm,a),this.alert={type:"error",message:`${a.message}`},this.showAlert=!0)}))}gestionarAsignatura(){"crear"===this.mode?this.saveAsignatura():this.updateAsignatura()}updateAsignatura(){this.asignaturaForm.markAllAsTouched(),!this.asignaturaForm.invalid&&(this.asignaturaForm.disable(),this.showAlert=!1,this._collageDegreeService.update(this.asignaturaForm.value,this.id).pipe((0,u.R)(this._unsubscribeAll)).subscribe(()=>{this.asignaturaForm.enable(),this._router.navigate(["/maestrias/lista",{m:2}])},a=>{this.asignaturaForm.enable(),a.message===this._globalService.httpValidationErrorMessage&&(this.asignaturaForm=this._globalService.getValidationErrors(this.asignaturaForm,a),this.alert={type:"error",message:`${a.message}`},this.showAlert=!0)}))}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}}return t.\u0275fac=function(a){return new(a||t)(e.Y36(l.qu),e.Y36(x.R),e.Y36(m.gz),e.Y36(m.F0),e.Y36(Z.U),e.Y36(M.M))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-manage-collage-degree"]],decls:29,vars:6,consts:[[1,"w-full","max-w-3xl","m-auto"],[1,"grid","sm:grid-cols-2","gap-8","w-full","mb-8"],[1,"w-full","col-span-1"],[1,"text-3xl","font-bold"],[1,"text-secondary"],[1,"col-span-1","relative"],[1,"absolute","-translate-y-2/4","top-2/4","left-0","right-0"],[3,"appearance","showIcon","type",4,"ngIf"],[1,"grid","sm:grid-cols-2","gap-y-1","gap-x-5","w-full","mt-8",3,"formGroup"],[1,"col-span-2"],[1,"w-full"],["id","name","type","text","formControlName","name","matInput",""],[4,"ngIf"],[4,"ngFor","ngForOf"],["id","description","type","text","formControlName","description","matInput",""],[1,"mt-11","mb-10","border-t"],[1,"flex","items-center","justify-end"],["mat-flat-button","","type","button",1,"ml-4",3,"color","click"],[3,"appearance","showIcon","type"]],template:function(a,i){1&a&&(e.TgZ(0,"div",0)(1,"form")(2,"div",1)(3,"div",2)(4,"div",3),e._uU(5,"Crear Maestr\xeda"),e.qZA(),e.TgZ(6,"div",4),e._uU(7,"Ingresa la informacion para crear un maestr\xeda"),e.qZA()(),e.TgZ(8,"div",5)(9,"div",6),e.YNc(10,S,2,5,"fuse-alert",7),e.qZA()()(),e.TgZ(11,"div",8)(12,"div",9)(13,"mat-form-field",10)(14,"mat-label"),e._uU(15,"Nombre"),e.qZA(),e._UZ(16,"input",11),e.YNc(17,J,2,0,"mat-error",12),e.YNc(18,Y,2,1,"mat-error",13),e.qZA()(),e.TgZ(19,"div",9)(20,"mat-form-field",10)(21,"mat-label"),e._uU(22,"Descripci\xf3n"),e.qZA(),e._UZ(23,"input",14),e.YNc(24,Q,2,1,"mat-error",13),e.qZA()()(),e._UZ(25,"div",15),e.TgZ(26,"div",16)(27,"button",17),e.NdJ("click",function(){return i.gestionarAsignatura()}),e._uU(28,"Guardar "),e.qZA()()()()),2&a&&(e.xp6(10),e.Q6J("ngIf",i.showAlert),e.xp6(1),e.Q6J("formGroup",i.asignaturaForm),e.xp6(6),e.Q6J("ngIf",i.asignaturaForm.get("name").hasError("required")),e.xp6(1),e.Q6J("ngForOf",i._globalService.errorsLength(i.asignaturaForm.get("name"))),e.xp6(6),e.Q6J("ngForOf",i._globalService.errorsLength(i.asignaturaForm.get("description"))),e.xp6(3),e.Q6J("color","primary"))},dependencies:[g.sg,g.O5,b.W,d.TO,d.KE,d.hX,h.Nt,l._Y,l.Fj,l.JJ,l.JL,l.F,l.sg,l.u,f.lW],data:{animation:w.L}}),t})();var n=o(7155),E=o(8372),I=o(1884),T=o(8739),C=o(3267),v=o(7392);const R=["drawer"];let j=(()=>{class t{constructor(a){this._location=a,this.collageDegree={}}ngOnInit(){}cerrarDetalles(){this._location.replaceState("/maestrias/lista"),this.drawer.toggle()}}return t.\u0275fac=function(a){return new(a||t)(e.Y36(g.Ye))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-collage-degree-details"]],viewQuery:function(a,i){if(1&a&&e.Gf(R,7),2&a){let s;e.iGM(s=e.CRH())&&(i.drawer=s.first)}},decls:23,vars:2,consts:[["mode","side",1,"fixed",3,"position"],["drawer",""],[1,"px-7","py-5"],[1,"header"],[1,"grid","grid-cols-12","items-baseline"],[1,"col-span-10"],[1,"text-2xl","font-bold","trncate"],[1,"col-span-2"],[1,"w-fit","ml-auto"],["mat-button","",1,"bg-transparent","h-3","w-3","min-w-0",3,"click"],[1,"text-xl"],[1,"my-3"],[1,"detalles-institucion"],[1,"info"],[1,"mt-3","font-bold","text-sm","trncate"],[1,"text-base","trncate"]],template:function(a,i){1&a&&(e.TgZ(0,"mat-drawer",0,1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),e._uU(7,"Detalles del nivel"),e.qZA()(),e.TgZ(8,"div",7)(9,"div",8)(10,"button",9),e.NdJ("click",function(){return i.cerrarDetalles()}),e.TgZ(11,"mat-icon",10),e._uU(12,"close"),e.qZA()()()()()(),e._UZ(13,"hr",11),e.TgZ(14,"div",12)(15,"div",13)(16,"div",14),e._uU(17,"Nombre"),e.qZA(),e.TgZ(18,"div",15),e._uU(19),e.qZA()(),e.TgZ(20,"div",13)(21,"div",14),e._uU(22,"Descripci\xf3n"),e.qZA()()()()()),2&a&&(e.Q6J("position","end"),e.xp6(19),e.Oqu(i.collageDegree.name))},dependencies:[C.jA,v.Hw,f.lW],styles:[".mat-drawer[_ngcontent-%COMP%]{width:400px;height:100%;box-shadow:-10px 0 50px 1px #9fa2aa91;background-color:#efefef!important}"]}),t})();const B=["sidenav"];function z(t,r){1&t&&(e.TgZ(0,"span"),e._uU(1,"creada"),e.qZA())}function O(t,r){1&t&&(e.TgZ(0,"span"),e._uU(1,"actualizada"),e.qZA())}function q(t,r){if(1&t&&(e.TgZ(0,"fuse-alert",27)(1,"span",28),e._uU(2,"Exito"),e.qZA(),e._uU(3," El maestr\xeda ha sido "),e.YNc(4,z,2,0,"span",29),e.YNc(5,O,2,0,"span",29),e._uU(6," exitosamente "),e.qZA()),2&t){const a=e.oxw();e.Q6J("type","success"),e.xp6(4),e.Q6J("ngIf","1"===a.m),e.xp6(1),e.Q6J("ngIf","2"===a.m)}}function $(t,r){1&t&&(e.TgZ(0,"th",30),e._uU(1,"Nombre"),e.qZA())}function P(t,r){if(1&t&&(e.TgZ(0,"td",31)(1,"span",32),e._uU(2),e.qZA()()),2&t){const a=r.$implicit;e.xp6(2),e.hij(" ",a.id," ")}}function k(t,r){1&t&&(e.TgZ(0,"th",30),e._uU(1,"Nombre"),e.qZA())}function G(t,r){if(1&t&&(e.TgZ(0,"td",31)(1,"span",32),e._uU(2),e.qZA()()),2&t){const a=r.$implicit;e.xp6(2),e.hij(" ",a.name," ")}}function H(t,r){1&t&&(e.TgZ(0,"th",30),e._uU(1,"Descrici\xf3n"),e.qZA())}function X(t,r){if(1&t&&(e.TgZ(0,"td",31)(1,"span",32),e._uU(2),e.qZA()()),2&t){const a=r.$implicit;e.xp6(2),e.hij(" ",a.description||"-"," ")}}function V(t,r){1&t&&(e.TgZ(0,"th",30),e._uU(1,"Acciones"),e.qZA())}function W(t,r){if(1&t){const a=e.EpF();e.TgZ(0,"td",31)(1,"button",33),e.NdJ("click",function(){const c=e.CHM(a).$implicit,p=e.oxw();return e.KtG(p.editCollageDegree(c.id))}),e._uU(2,"Editar"),e.qZA()()}}function K(t,r){1&t&&e._UZ(0,"tr",34)}function ee(t,r){if(1&t){const a=e.EpF();e.TgZ(0,"tr",35),e.NdJ("click",function(){const c=e.CHM(a).$implicit,p=e.oxw();return e.KtG(p.showCollageDegreeDetails(c))}),e.qZA()}}const te=function(){return[10,25,100]};let y=(()=>{class t{constructor(a,i,s,c,p){this._collageDegreeService=a,this._router=i,this._activatedRoute=s,this._globalService=c,this._location=p,this.columns=["id","name","description","acciones"],this.m=null,this._unsubscribeAll=new _.x,this.resendingEmail=!1,this.search=new l.NI}ngOnInit(){this._activatedRoute.params.subscribe(a=>{a.id&&this._collageDegreeService.get(a.id).subscribe(i=>{this.showCollageDegreeDetails(i.data)})}),this.getCollageDegrees(),this._activatedRoute.params.pipe((0,u.R)(this._unsubscribeAll)).subscribe(a=>{a.m&&(this.m=a.m)}),this.search.valueChanges.pipe((0,u.R)(this._unsubscribeAll),(0,E.b)(500),(0,I.x)()).subscribe(a=>{this.getCollageDegrees({page:1,perPage:10},a)})}getCollageDegrees(a,i=""){this._collageDegreeService.getList(a,i).pipe((0,u.R)(this._unsubscribeAll)).subscribe(s=>{this.collageDegreesPaginated=s.data,this.dataSource=new n.by(this.collageDegreesPaginated.data)})}editCollageDegree(a){this._router.navigate(["maestrias/editar",a])}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}paginate(a){this.getCollageDegrees({page:a.pageIndex+1,perPage:a.pageSize})}reenviarCorreoRegistro(a){this.resendingEmail=!0,this._collageDegreeService.reenviarCorreoRegistro(a).subscribe(i=>{this.resendingEmail=!1,this._globalService.openSnackBar(i.message)})}showCollageDegreeDetails(a){this.sidenav.collageDegree=a,this.sidenav.drawer.toggle(),this._location.replaceState(this.sidenav.drawer.opened?"/maestr\xedas/detalles/"+a.id:"/maestr\xedas/lista")}}return t.\u0275fac=function(a){return new(a||t)(e.Y36(x.R),e.Y36(m.F0),e.Y36(m.gz),e.Y36(Z.U),e.Y36(g.Ye))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-collage-degrees-list"]],viewQuery:function(a,i){if(1&a&&e.Gf(B,7),2&a){let s;e.iGM(s=e.CRH())&&(i.sidenav=s.first)}},decls:43,vars:10,consts:[["autosize","",1,"w-full"],[1,"grid","sm:grid-cols-2","gap-8","w-full","mb-6"],[1,"w-full","col-span-1"],[1,"text-3xl","font-bold"],[1,"text-secondary"],[1,"text-right"],["mat-stroked-button","",1,"rounded","mr-1","px-3","bg-primary-300","text-on-primary-300",3,"routerLink"],[3,"type",4,"ngIf"],[1,"sm:col-span-6","flex","flex-col","flex-auto","p-6","bg-card","shadow","rounded-2xl","overflow-hidden"],[1,"grid","grid-cols-2"],[1,"col-span-1"],[1,"text-lg","font-medium","tracking-tight","leading-6","truncate"],[1,"w-72","ml-auto"],[1,"w-72"],["matInput","",3,"formControl"],[1,"flex","flex-col","flex-auto","mt-2","overflow-x-auto"],["mat-table","",1,"min-w-240","overflow-y-visible",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","description"],["matColumnDef","acciones"],["mat-header-row","",4,"matHeaderRowDef"],["class","cursor-pointer","mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],["aria-label","Select page",3,"length","pageSize","pageSizeOptions","page"],["sidenav",""],[3,"type"],["fuseAlertTitle",""],[4,"ngIf"],["mat-header-cell",""],["mat-cell",""],[1,"font-medium","text-right"],["mat-stroked-button","",1,"rounded","mr-1","p-0","bg-primary-300","text-on-primary-300",3,"click"],["mat-header-row",""],["mat-row","",1,"cursor-pointer",3,"click"]],template:function(a,i){1&a&&(e.TgZ(0,"mat-drawer-container",0)(1,"div",1)(2,"div",2)(3,"div",3),e._uU(4,"Maestr\xedas"),e.qZA(),e.TgZ(5,"div",4),e._uU(6,"Una lista de maestr\xedas registradas en el sistema"),e.qZA()(),e.TgZ(7,"div",2)(8,"div",5)(9,"button",6),e._uU(10,"Crear Maestr\xeda"),e.qZA()()(),e.TgZ(11,"div",2),e.YNc(12,q,7,3,"fuse-alert",7),e.qZA()(),e.TgZ(13,"div",8)(14,"div",9)(15,"div",10)(16,"div",11),e._uU(17,"Detalles de maestr\xedas"),e.qZA()(),e.TgZ(18,"div",10)(19,"div",12)(20,"mat-form-field",13)(21,"mat-label"),e._uU(22,"Buscar Maestr\xeda"),e.qZA(),e._UZ(23,"input",14),e.qZA()()()(),e.TgZ(24,"div",15)(25,"table",16),e.ynx(26,17),e.YNc(27,$,2,0,"th",18),e.YNc(28,P,3,1,"td",19),e.BQk(),e.ynx(29,20),e.YNc(30,k,2,0,"th",18),e.YNc(31,G,3,1,"td",19),e.BQk(),e.ynx(32,21),e.YNc(33,H,2,0,"th",18),e.YNc(34,X,3,1,"td",19),e.BQk(),e.ynx(35,22),e.YNc(36,V,2,0,"th",18),e.YNc(37,W,3,0,"td",19),e.BQk(),e.YNc(38,K,1,0,"tr",23),e.YNc(39,ee,1,0,"tr",24),e.qZA(),e.TgZ(40,"mat-paginator",25),e.NdJ("page",function(c){return i.paginate(c)}),e.qZA()()(),e._UZ(41,"app-collage-degree-details",null,26),e.qZA()),2&a&&(e.xp6(9),e.Q6J("routerLink","/maestrias/crear"),e.xp6(3),e.Q6J("ngIf",i.m),e.xp6(11),e.Q6J("formControl",i.search),e.xp6(2),e.Q6J("dataSource",i.dataSource),e.xp6(13),e.Q6J("matHeaderRowDef",i.columns),e.xp6(1),e.Q6J("matRowDefColumns",i.columns),e.xp6(1),e.Q6J("length",null==i.collageDegreesPaginated?null:i.collageDegreesPaginated.total)("pageSize",null==i.collageDegreesPaginated?null:i.collageDegreesPaginated.per_page)("pageSizeOptions",e.DdM(9,te)))},dependencies:[g.O5,m.rH,n.BZ,n.fO,n.as,n.w1,n.Dz,n.nj,n.ge,n.ev,n.XQ,n.Gk,T.NW,f.lW,b.W,j,C.kh,d.KE,d.hX,h.Nt,l.Fj,l.JJ,l.oH]}),t})();const ae=[{path:"lista",component:y},{path:"crear",component:A},{path:"editar/:id",component:A},{path:"detalles/:id",component:y},{path:"",pathMatch:"full",redirectTo:"lista"}];var F=o(7775),ie=o(4385),re=o(9602),oe=o(3238);let se=(()=>{class t{}return t.\u0275fac=function(a){return new(a||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[g.ez,F.fC,d.lN,h.c,ie.LD,l.u5,l.UX,v.Ps,f.ot,re.FA,oe.XK]}),t})();var le=o(7009),ne=o(4466),ge=o(7084),ce=o(252);let me=(()=>{class t{}return t.\u0275fac=function(a){return new(a||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[g.ez,C.SJ,ge.To,v.Ps,f.ot,ce.o]}),t})(),ue=(()=>{class t{}return t.\u0275fac=function(a){return new(a||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[g.ez,m.Bz,n.p0,T.TU,f.ot,le.ZX,F.fC,me,C.SJ,d.lN,h.c,ne.m]}),t})(),de=(()=>{class t{}return t.\u0275fac=function(a){return new(a||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[g.ez,m.Bz.forChild(ae),se,ue]}),t})()}}]);