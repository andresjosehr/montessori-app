"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[760],{1760:(kt,S,o)=>{o.r(S),o.d(S,{StudentsModule:()=>$t});var m=o(6895),p=o(2510),s=o(4006),Q=o(8288),T=o(7579),J=o(4813),g=o(2722),t=o(4650),A=o(529),f=o(2340);let C=(()=>{class e{constructor(n){this._httpClient=n}create(n){return this._httpClient.post(`${f.N.api}/students`,n)}getList(n,a=""){const r=new A.LE({fromObject:{...n,searchString:a}});return this._httpClient.get(`${f.N.api}/students`,{params:r})}get(n){return this._httpClient.get(`${f.N.api}/students/${n}`)}update(n,a){return this._httpClient.put(`${f.N.api}/students/${a}`,n)}reenviarCorreoRegistro(n){return this._httpClient.post(`${f.N.api}/students/reenviar-correo-registro/${n}`,{})}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(A.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var b=o(4031),q=o(6033),F=o(2494),d=o(9549),h=o(4144),y=o(4385),U=o(3238),_=o(4859),Z=o(9602);function L(e,i){if(1&e&&(t.TgZ(0,"fuse-alert",30),t._uU(1),t.qZA()),2&e){const n=t.oxw();t.Q6J("appearance","outline")("showIcon",!1)("type",n.alert.type)("@shake","error"===n.alert.type),t.xp6(1),t.hij(" ",n.alert.message," ")}}function D(e,i){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"Este campo es obligatorio"),t.qZA())}function I(e,i){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"Este campo es obligatorio"),t.qZA())}function $(e,i){if(1&e&&(t.ynx(0),t._uU(1),t.BQk()),2&e){const n=t.oxw().$implicit,a=t.oxw();t.xp6(1),t.hij(" ",a.asignaturaForm.get("code").errors[n]," ")}}function E(e,i){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,$,2,1,"ng-container",12),t.qZA()),2&e){const n=i.$implicit,a=t.oxw();t.xp6(1),t.Q6J("ngIf",a.asignaturaForm.get("code").hasError(n))}}function k(e,i){if(1&e&&(t.ynx(0),t._uU(1),t.BQk()),2&e){const n=t.oxw().$implicit,a=t.oxw();t.xp6(1),t.hij(" ",a.asignaturaForm.get("first_name").errors[n]," ")}}function j(e,i){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,k,2,1,"ng-container",12),t.qZA()),2&e){const n=i.$implicit,a=t.oxw();t.xp6(1),t.Q6J("ngIf",a.asignaturaForm.get("first_name").hasError(n))}}function O(e,i){if(1&e&&(t.ynx(0),t._uU(1),t.BQk()),2&e){const n=t.oxw().$implicit,a=t.oxw();t.xp6(1),t.hij(" ",a.asignaturaForm.get("last_name").errors[n]," ")}}function B(e,i){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,O,2,1,"ng-container",12),t.qZA()),2&e){const n=i.$implicit,a=t.oxw();t.xp6(1),t.Q6J("ngIf",a.asignaturaForm.get("last_name").hasError(n))}}function R(e,i){if(1&e&&(t.ynx(0),t._uU(1),t.BQk()),2&e){const n=t.oxw().$implicit,a=t.oxw();t.xp6(1),t.hij(" ",a.asignaturaForm.get("email").errors[n]," ")}}function z(e,i){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,R,2,1,"ng-container",12),t.qZA()),2&e){const n=i.$implicit,a=t.oxw();t.xp6(1),t.Q6J("ngIf",a.asignaturaForm.get("email").hasError(n))}}function G(e,i){if(1&e&&(t.ynx(0),t._uU(1),t.BQk()),2&e){const n=t.oxw().$implicit,a=t.oxw();t.xp6(1),t.hij(" ",a.asignaturaForm.get("document").errors[n]," ")}}function P(e,i){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,G,2,1,"ng-container",12),t.qZA()),2&e){const n=i.$implicit,a=t.oxw();t.xp6(1),t.Q6J("ngIf",a.asignaturaForm.get("document").hasError(n))}}function H(e,i){if(1&e&&(t.ynx(0),t._uU(1),t.BQk()),2&e){const n=t.oxw().$implicit,a=t.oxw();t.xp6(1),t.hij(" ",a.asignaturaForm.get("address").errors[n]," ")}}function X(e,i){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,H,2,1,"ng-container",12),t.qZA()),2&e){const n=i.$implicit,a=t.oxw();t.xp6(1),t.Q6J("ngIf",a.asignaturaForm.get("address").hasError(n))}}function V(e,i){if(1&e&&(t.TgZ(0,"mat-option",31),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.Q6J("value",n.id),t.xp6(1),t.Oqu(n.name)}}function K(e,i){if(1&e&&(t.ynx(0),t._uU(1),t.BQk()),2&e){const n=t.oxw().$implicit,a=t.oxw();t.xp6(1),t.hij(" ",a.asignaturaForm.get("country_id").errors[n]," ")}}function W(e,i){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,K,2,1,"ng-container",12),t.qZA()),2&e){const n=i.$implicit,a=t.oxw();t.xp6(1),t.Q6J("ngIf",a.asignaturaForm.get("country_id").hasError(n))}}function tt(e,i){if(1&e&&(t.ynx(0),t._uU(1),t.BQk()),2&e){const n=t.oxw().$implicit,a=t.oxw();t.xp6(1),t.hij(" ",a.asignaturaForm.get("sex").errors[n]," ")}}function et(e,i){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,tt,2,1,"ng-container",12),t.qZA()),2&e){const n=i.$implicit,a=t.oxw();t.xp6(1),t.Q6J("ngIf",a.asignaturaForm.get("sex").hasError(n))}}function nt(e,i){if(1&e&&(t.ynx(0),t._uU(1),t.BQk()),2&e){const n=t.oxw().$implicit,a=t.oxw();t.xp6(1),t.hij(" ",a.asignaturaForm.get("born_at").errors[n]," ")}}function at(e,i){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,nt,2,1,"ng-container",12),t.qZA()),2&e){const n=i.$implicit,a=t.oxw();t.xp6(1),t.Q6J("ngIf",a.asignaturaForm.get("born_at").hasError(n))}}function it(e,i){if(1&e&&(t.ynx(0),t._uU(1),t.BQk()),2&e){const n=t.oxw().$implicit,a=t.oxw();t.xp6(1),t.hij(" ",a.asignaturaForm.get("phone").errors[n]," ")}}function ot(e,i){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,it,2,1,"ng-container",12),t.qZA()),2&e){const n=i.$implicit,a=t.oxw();t.xp6(1),t.Q6J("ngIf",a.asignaturaForm.get("phone").hasError(n))}}let N=(()=>{class e{constructor(n,a,r,l,c,Et){this._formBuilder=n,this._studentService=a,this._activatedRoute=r,this._router=l,this._globalService=c,this._countriesService=Et,this._unsubscribeAll=new T.x,this.alert={type:"success",message:""},this.showAlert=!1,this.mode="crear",this.countries$=this._countriesService.getCountries().pipe((0,J.j)("data"))}ngOnInit(){this.asignaturaForm=this._formBuilder.group({code:[""],first_name:["",s.kI.required],last_name:["",s.kI.required],email:[""],document:["",s.kI.required],address:[""],phone:[""],country_id:[""],sex:[""],born_at:[""]}),this._activatedRoute.params.pipe((0,g.R)(this._unsubscribeAll)).subscribe(n=>{n.id&&(this.mode="editar",this.id=n.id,this.getStudent(this.id))})}getStudent(n){this._studentService.get(n).pipe((0,g.R)(this._unsubscribeAll)).subscribe(a=>{this.asignaturaForm.patchValue(a.data),this.asignaturaForm.get("country_id").setValue(a.data.country.id)})}saveAsignatura(){this.asignaturaForm.invalid?this.asignaturaForm.markAllAsTouched():(this.asignaturaForm.disable(),this.asignaturaForm.updateValueAndValidity(),this.showAlert=!1,this._studentService.create(this.asignaturaForm.value).pipe((0,g.R)(this._unsubscribeAll)).subscribe(()=>{this.asignaturaForm.enable(),this._router.navigate(["/alumnos/lista",{m:1}])},n=>{this.asignaturaForm.enable(),n.message===this._globalService.httpValidationErrorMessage&&(this.asignaturaForm=this._globalService.getValidationErrors(this.asignaturaForm,n),this.alert={type:"error",message:`${n.message}`},this.showAlert=!0)}))}gestionarAsignatura(){"crear"===this.mode?this.saveAsignatura():this.updateAsignatura()}updateAsignatura(){this.asignaturaForm.markAllAsTouched(),!this.asignaturaForm.invalid&&(this.asignaturaForm.disable(),this.showAlert=!1,this._studentService.update(this.asignaturaForm.value,this.id).pipe((0,g.R)(this._unsubscribeAll)).subscribe(()=>{this.asignaturaForm.enable(),this._router.navigate(["/alumnos/lista",{m:2}])},n=>{this.asignaturaForm.enable(),n.message===this._globalService.httpValidationErrorMessage&&(this.asignaturaForm=this._globalService.getValidationErrors(this.asignaturaForm,n),this.alert={type:"error",message:`${n.message}`},this.showAlert=!0)}))}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(s.qu),t.Y36(C),t.Y36(p.gz),t.Y36(p.F0),t.Y36(b.U),t.Y36(q.M))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-manage-student"]],decls:88,vars:19,consts:[[1,"w-full","max-w-3xl","m-auto"],[1,"grid","sm:grid-cols-2","gap-8","w-full","mb-8"],[1,"w-full","col-span-1"],[1,"text-3xl","font-bold"],[1,"text-secondary"],[1,"col-span-1","relative"],[1,"absolute","-translate-y-2/4","top-2/4","left-0","right-0"],[3,"appearance","showIcon","type",4,"ngIf"],[1,"grid","sm:grid-cols-2","gap-y-1","gap-x-5","w-full","mt-8",3,"formGroup"],[1,"col-span-1"],[1,"w-full"],["id","code","type","text","formControlName","code","matInput",""],[4,"ngIf"],[4,"ngFor","ngForOf"],["id","first_name","type","text","formControlName","first_name","matInput",""],["id","last_name","type","text","formControlName","last_name","matInput",""],["id","email","type","text","formControlName","email","matInput",""],["id","document","type","text","formControlName","document","matInput",""],["id","address","type","text","formControlName","address","matInput",""],["matInput","","id","country_id","type","text","formControlName","country_id"],[3,"value",4,"ngFor","ngForOf"],["matInput","","id","sex","type","text","formControlName","sex"],["value","Masculino"],["value","Femenino"],["formControlName","born_at","matInput","",3,"matDatepicker","click"],["picker",""],["id","phone","type","text","formControlName","phone","matInput",""],[1,"mt-11","mb-10","border-t"],[1,"flex","items-center","justify-end"],["mat-flat-button","","type","button",1,"ml-4",3,"color","click"],[3,"appearance","showIcon","type"],[3,"value"]],template:function(n,a){if(1&n){const r=t.EpF();t.TgZ(0,"div",0)(1,"form")(2,"div",1)(3,"div",2)(4,"div",3),t._uU(5,"Crear Alumno"),t.qZA(),t.TgZ(6,"div",4),t._uU(7,"Ingresa la informacion para crear un alumno"),t.qZA()(),t.TgZ(8,"div",5)(9,"div",6),t.YNc(10,L,2,5,"fuse-alert",7),t.qZA()()(),t.TgZ(11,"div",8)(12,"div",9)(13,"mat-form-field",10)(14,"mat-label"),t._uU(15,"Codigo"),t.qZA(),t._UZ(16,"input",11),t.YNc(17,D,2,0,"mat-error",12),t.YNc(18,I,2,0,"mat-error",12),t.YNc(19,E,2,1,"mat-error",13),t.qZA()(),t.TgZ(20,"div",9)(21,"mat-form-field",10)(22,"mat-label"),t._uU(23,"Nombres"),t.qZA(),t._UZ(24,"input",14),t.YNc(25,j,2,1,"mat-error",13),t.qZA()(),t.TgZ(26,"div",9)(27,"mat-form-field",10)(28,"mat-label"),t._uU(29,"Apellidos"),t.qZA(),t._UZ(30,"input",15),t.YNc(31,B,2,1,"mat-error",13),t.qZA()(),t.TgZ(32,"div",9)(33,"mat-form-field",10)(34,"mat-label"),t._uU(35,"Email"),t.qZA(),t._UZ(36,"input",16),t.YNc(37,z,2,1,"mat-error",13),t.qZA()(),t.TgZ(38,"div",9)(39,"mat-form-field",10)(40,"mat-label"),t._uU(41,"Nro Documento"),t.qZA(),t._UZ(42,"input",17),t.YNc(43,P,2,1,"mat-error",13),t.qZA()(),t.TgZ(44,"div",9)(45,"mat-form-field",10)(46,"mat-label"),t._uU(47,"Direcci\xf3n"),t.qZA(),t._UZ(48,"input",18),t.YNc(49,X,2,1,"mat-error",13),t.qZA()(),t.TgZ(50,"div",9)(51,"mat-form-field",10)(52,"mat-label"),t._uU(53,"Nacionalidad"),t.qZA(),t.TgZ(54,"mat-select",19),t.YNc(55,V,2,2,"mat-option",20),t.ALo(56,"async"),t.qZA(),t.YNc(57,W,2,1,"mat-error",13),t.qZA()(),t.TgZ(58,"div",9)(59,"mat-form-field",10)(60,"mat-label"),t._uU(61,"Sexo"),t.qZA(),t.TgZ(62,"mat-select",21)(63,"mat-option",22),t._uU(64,"Masculino"),t.qZA(),t.TgZ(65,"mat-option",23),t._uU(66,"Femenino"),t.qZA()(),t.YNc(67,et,2,1,"mat-error",13),t.qZA()(),t.TgZ(68,"div",9)(69,"mat-form-field",10)(70,"mat-label"),t._uU(71,"Fecha nacimiento"),t.qZA(),t.TgZ(72,"input",24),t.NdJ("click",function(){t.CHM(r);const c=t.MAs(76);return t.KtG(c.open())}),t.qZA(),t.TgZ(73,"mat-hint"),t._uU(74,"MM/DD/YYYY"),t.qZA(),t._UZ(75,"mat-datepicker",null,25),t.YNc(77,at,2,1,"mat-error",13),t.qZA()(),t.TgZ(78,"div",9)(79,"mat-form-field",10)(80,"mat-label"),t._uU(81,"Telefono"),t.qZA(),t._UZ(82,"input",26),t.YNc(83,ot,2,1,"mat-error",13),t.qZA()()(),t._UZ(84,"div",27),t.TgZ(85,"div",28)(86,"button",29),t.NdJ("click",function(){return a.gestionarAsignatura()}),t._uU(87,"Guardar "),t.qZA()()()()}if(2&n){const r=t.MAs(76);t.xp6(10),t.Q6J("ngIf",a.showAlert),t.xp6(1),t.Q6J("formGroup",a.asignaturaForm),t.xp6(6),t.Q6J("ngIf",a.asignaturaForm.get("code").hasError("required")),t.xp6(1),t.Q6J("ngIf",a.asignaturaForm.get("code").hasError("code")),t.xp6(1),t.Q6J("ngForOf",a._globalService.errorsLength(a.asignaturaForm.get("code"))),t.xp6(6),t.Q6J("ngForOf",a._globalService.errorsLength(a.asignaturaForm.get("first_name"))),t.xp6(6),t.Q6J("ngForOf",a._globalService.errorsLength(a.asignaturaForm.get("last_name"))),t.xp6(6),t.Q6J("ngForOf",a._globalService.errorsLength(a.asignaturaForm.get("email"))),t.xp6(6),t.Q6J("ngForOf",a._globalService.errorsLength(a.asignaturaForm.get("document"))),t.xp6(6),t.Q6J("ngForOf",a._globalService.errorsLength(a.asignaturaForm.get("address"))),t.xp6(6),t.Q6J("ngForOf",t.lcZ(56,17,a.countries$)),t.xp6(2),t.Q6J("ngForOf",a._globalService.errorsLength(a.asignaturaForm.get("country_id"))),t.xp6(10),t.Q6J("ngForOf",a._globalService.errorsLength(a.asignaturaForm.get("sex"))),t.xp6(5),t.Q6J("matDatepicker",r),t.xp6(5),t.Q6J("ngForOf",a._globalService.errorsLength(a.asignaturaForm.get("born_at"))),t.xp6(6),t.Q6J("ngForOf",a._globalService.errorsLength(a.asignaturaForm.get("phone"))),t.xp6(3),t.Q6J("color","primary")}},dependencies:[m.sg,m.O5,F.W,d.TO,d.KE,d.bx,d.hX,h.Nt,y.gD,U.ey,s._Y,s.Fj,s.JJ,s.JL,s.F,s.sg,s.u,_.lW,Z.Mq,Z.hl,m.Ov],data:{animation:Q.L}}),e})();var u=o(7155),rt=o(8372),st=o(1884),w=o(8739),x=o(3267),v=o(7392);const ut=["drawer"];let lt=(()=>{class e{constructor(n){this._location=n,this.student={}}ngOnInit(){}cerrarDetalles(){this._location.replaceState("/alumnos/lista"),this.drawer.toggle()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(m.Ye))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-student-details"]],viewQuery:function(n,a){if(1&n&&t.Gf(ut,7),2&n){let r;t.iGM(r=t.CRH())&&(a.drawer=r.first)}},decls:23,vars:2,consts:[["mode","side",1,"fixed",3,"position"],["drawer",""],[1,"px-7","py-5"],[1,"header"],[1,"grid","grid-cols-12","items-baseline"],[1,"col-span-10"],[1,"text-2xl","font-bold","trncate"],[1,"col-span-2"],[1,"w-fit","ml-auto"],["mat-button","",1,"bg-transparent","h-3","w-3","min-w-0",3,"click"],[1,"text-xl"],[1,"my-3"],[1,"detalles-institucion"],[1,"info"],[1,"mt-3","font-bold","text-sm","trncate"],[1,"text-base","trncate"]],template:function(n,a){1&n&&(t.TgZ(0,"mat-drawer",0,1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),t._uU(7,"Detalles del nivel"),t.qZA()(),t.TgZ(8,"div",7)(9,"div",8)(10,"button",9),t.NdJ("click",function(){return a.cerrarDetalles()}),t.TgZ(11,"mat-icon",10),t._uU(12,"close"),t.qZA()()()()()(),t._UZ(13,"hr",11),t.TgZ(14,"div",12)(15,"div",13)(16,"div",14),t._uU(17,"Nombre"),t.qZA(),t.TgZ(18,"div",15),t._uU(19),t.qZA()(),t.TgZ(20,"div",13)(21,"div",14),t._uU(22,"Descripci\xf3n"),t.qZA()()()()()),2&n&&(t.Q6J("position","end"),t.xp6(19),t.Oqu(a.student.first_name))},dependencies:[x.jA,v.Hw,_.lW],styles:[".mat-drawer[_ngcontent-%COMP%]{width:400px;height:100%;box-shadow:-10px 0 50px 1px #9fa2aa91;background-color:#efefef!important}"]}),e})();const mt=["sidenav"];function ct(e,i){1&e&&(t.TgZ(0,"span"),t._uU(1,"creada"),t.qZA())}function dt(e,i){1&e&&(t.TgZ(0,"span"),t._uU(1,"actualizada"),t.qZA())}function pt(e,i){if(1&e&&(t.TgZ(0,"fuse-alert",30)(1,"span",31),t._uU(2,"Exito"),t.qZA(),t._uU(3," El alumno ha sido "),t.YNc(4,ct,2,0,"span",32),t.YNc(5,dt,2,0,"span",32),t._uU(6," exitosamente "),t.qZA()),2&e){const n=t.oxw();t.Q6J("type","success"),t.xp6(4),t.Q6J("ngIf","1"===n.m),t.xp6(1),t.Q6J("ngIf","2"===n.m)}}function gt(e,i){1&e&&(t.TgZ(0,"th",33),t._uU(1,"Code"),t.qZA())}function _t(e,i){if(1&e&&(t.TgZ(0,"td",34)(1,"span",35),t._uU(2),t.qZA()()),2&e){const n=i.$implicit;t.xp6(2),t.hij(" ",n.code," ")}}function ft(e,i){1&e&&(t.TgZ(0,"th",33),t._uU(1,"Nombres"),t.qZA())}function ht(e,i){if(1&e&&(t.TgZ(0,"td",34)(1,"span",35),t._uU(2),t.qZA()()),2&e){const n=i.$implicit;t.xp6(2),t.hij(" ",n.first_name||"-"," ")}}function xt(e,i){1&e&&(t.TgZ(0,"th",33),t._uU(1,"Apellidos"),t.qZA())}function Zt(e,i){if(1&e&&(t.TgZ(0,"td",34)(1,"span",35),t._uU(2),t.qZA()()),2&e){const n=i.$implicit;t.xp6(2),t.hij(" ",n.last_name||"-"," ")}}function vt(e,i){1&e&&(t.TgZ(0,"th",33),t._uU(1,"Documento"),t.qZA())}function St(e,i){if(1&e&&(t.TgZ(0,"td",34)(1,"span",35),t._uU(2),t.qZA()()),2&e){const n=i.$implicit;t.xp6(2),t.hij(" ",n.document||"-"," ")}}function Tt(e,i){1&e&&(t.TgZ(0,"th",33),t._uU(1,"Email"),t.qZA())}function At(e,i){if(1&e&&(t.TgZ(0,"td",34)(1,"span",35),t._uU(2),t.qZA()()),2&e){const n=i.$implicit;t.xp6(2),t.hij(" ",n.email||"-"," ")}}function Ct(e,i){1&e&&(t.TgZ(0,"th",33),t._uU(1," Phone"),t.qZA())}function bt(e,i){if(1&e&&(t.TgZ(0,"td",34)(1,"span",35),t._uU(2),t.qZA()()),2&e){const n=i.$implicit;t.xp6(2),t.hij(" ",n.phone||"-"," ")}}function Ft(e,i){1&e&&(t.TgZ(0,"th",33),t._uU(1,"Acciones"),t.qZA())}function yt(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"td",34)(1,"button",36),t.NdJ("click",function(){const l=t.CHM(n).$implicit,c=t.oxw();return t.KtG(c.editStudent(l.id))}),t._uU(2,"Editar"),t.qZA()()}}function Ut(e,i){1&e&&t._UZ(0,"tr",37)}function Nt(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"tr",38),t.NdJ("click",function(){const l=t.CHM(n).$implicit,c=t.oxw();return t.KtG(c.showStudentDetails(l))}),t.qZA()}}const wt=function(){return[10,25,100]};let M=(()=>{class e{constructor(n,a,r,l,c){this._studentService=n,this._router=a,this._activatedRoute=r,this._globalService=l,this._location=c,this.columns=["code","first_name","last_name","document","email","phone","acciones"],this.m=null,this._unsubscribeAll=new T.x,this.resendingEmail=!1,this.search=new s.NI}ngOnInit(){this._activatedRoute.params.subscribe(n=>{n.id&&this._studentService.get(n.id).subscribe(a=>{this.showStudentDetails(a.data)})}),this.getStudents(),this._activatedRoute.params.pipe((0,g.R)(this._unsubscribeAll)).subscribe(n=>{n.m&&(this.m=n.m)}),this.search.valueChanges.pipe((0,g.R)(this._unsubscribeAll),(0,rt.b)(500),(0,st.x)()).subscribe(n=>{this.getStudents({page:1,perPage:10},n)})}getStudents(n,a=""){this._studentService.getList(n,a).pipe((0,g.R)(this._unsubscribeAll)).subscribe(r=>{this.studentsPaginated=r.data,this.dataSource=new u.by(this.studentsPaginated.data)})}editStudent(n){this._router.navigate(["alumnos/editar",n])}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}paginate(n){this.getStudents({page:n.pageIndex+1,perPage:n.pageSize})}reenviarCorreoRegistro(n){this.resendingEmail=!0,this._studentService.reenviarCorreoRegistro(n).subscribe(a=>{this.resendingEmail=!1,this._globalService.openSnackBar(a.message)})}showStudentDetails(n){this.sidenav.student=n,this.sidenav.drawer.toggle(),this._location.replaceState(this.sidenav.drawer.opened?"/alumnos/detalles/"+n.id:"/alumnos/lista")}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(C),t.Y36(p.F0),t.Y36(p.gz),t.Y36(b.U),t.Y36(m.Ye))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-students-list"]],viewQuery:function(n,a){if(1&n&&t.Gf(mt,7),2&n){let r;t.iGM(r=t.CRH())&&(a.sidenav=r.first)}},decls:52,vars:10,consts:[["autosize","",1,"w-full"],[1,"grid","sm:grid-cols-2","gap-8","w-full","mb-6"],[1,"w-full","col-span-1"],[1,"text-3xl","font-bold"],[1,"text-secondary"],[1,"text-right"],["mat-stroked-button","",1,"rounded","mr-1","px-3","bg-primary-300","text-on-primary-300",3,"routerLink"],[3,"type",4,"ngIf"],[1,"sm:col-span-6","flex","flex-col","flex-auto","p-6","bg-card","shadow","rounded-2xl","overflow-hidden"],[1,"grid","grid-cols-2"],[1,"col-span-1"],[1,"text-lg","font-medium","tracking-tight","leading-6","truncate"],[1,"w-72","ml-auto"],[1,"w-72"],["matInput","",3,"formControl"],[1,"flex","flex-col","flex-auto","mt-2","overflow-x-auto"],["mat-table","",1,"min-w-240","overflow-y-visible",3,"dataSource"],["matColumnDef","code"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","first_name"],["matColumnDef","last_name"],["matColumnDef","document"],["matColumnDef","email"],["matColumnDef","phone"],["matColumnDef","acciones"],["mat-header-row","",4,"matHeaderRowDef"],["class","cursor-pointer","mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],["aria-label","Select page",3,"length","pageSize","pageSizeOptions","page"],["sidenav",""],[3,"type"],["fuseAlertTitle",""],[4,"ngIf"],["mat-header-cell",""],["mat-cell",""],[1,"font-medium","text-right"],["mat-stroked-button","",1,"rounded","mr-1","p-0","bg-primary-300","text-on-primary-300",3,"click"],["mat-header-row",""],["mat-row","",1,"cursor-pointer",3,"click"]],template:function(n,a){1&n&&(t.TgZ(0,"mat-drawer-container",0)(1,"div",1)(2,"div",2)(3,"div",3),t._uU(4,"Alumnos"),t.qZA(),t.TgZ(5,"div",4),t._uU(6,"Una lista de alumnos registradas en el sistema"),t.qZA()(),t.TgZ(7,"div",2)(8,"div",5)(9,"button",6),t._uU(10,"Crear Alumno"),t.qZA()()(),t.TgZ(11,"div",2),t.YNc(12,pt,7,3,"fuse-alert",7),t.qZA()(),t.TgZ(13,"div",8)(14,"div",9)(15,"div",10)(16,"div",11),t._uU(17,"Detalles de alumnos"),t.qZA()(),t.TgZ(18,"div",10)(19,"div",12)(20,"mat-form-field",13)(21,"mat-label"),t._uU(22,"Buscar Alumno"),t.qZA(),t._UZ(23,"input",14),t.qZA()()()(),t.TgZ(24,"div",15)(25,"table",16),t.ynx(26,17),t.YNc(27,gt,2,0,"th",18),t.YNc(28,_t,3,1,"td",19),t.BQk(),t.ynx(29,20),t.YNc(30,ft,2,0,"th",18),t.YNc(31,ht,3,1,"td",19),t.BQk(),t.ynx(32,21),t.YNc(33,xt,2,0,"th",18),t.YNc(34,Zt,3,1,"td",19),t.BQk(),t.ynx(35,22),t.YNc(36,vt,2,0,"th",18),t.YNc(37,St,3,1,"td",19),t.BQk(),t.ynx(38,23),t.YNc(39,Tt,2,0,"th",18),t.YNc(40,At,3,1,"td",19),t.BQk(),t.ynx(41,24),t.YNc(42,Ct,2,0,"th",18),t.YNc(43,bt,3,1,"td",19),t.BQk(),t.ynx(44,25),t.YNc(45,Ft,2,0,"th",18),t.YNc(46,yt,3,0,"td",19),t.BQk(),t.YNc(47,Ut,1,0,"tr",26),t.YNc(48,Nt,1,0,"tr",27),t.qZA(),t.TgZ(49,"mat-paginator",28),t.NdJ("page",function(l){return a.paginate(l)}),t.qZA()()(),t._UZ(50,"app-student-details",null,29),t.qZA()),2&n&&(t.xp6(9),t.Q6J("routerLink","/alumnos/crear"),t.xp6(3),t.Q6J("ngIf",a.m),t.xp6(11),t.Q6J("formControl",a.search),t.xp6(2),t.Q6J("dataSource",a.dataSource),t.xp6(22),t.Q6J("matHeaderRowDef",a.columns),t.xp6(1),t.Q6J("matRowDefColumns",a.columns),t.xp6(1),t.Q6J("length",null==a.studentsPaginated?null:a.studentsPaginated.total)("pageSize",null==a.studentsPaginated?null:a.studentsPaginated.per_page)("pageSizeOptions",t.DdM(9,wt)))},dependencies:[m.O5,p.rH,u.BZ,u.fO,u.as,u.w1,u.Dz,u.nj,u.ge,u.ev,u.XQ,u.Gk,w.NW,_.lW,F.W,lt,x.kh,d.KE,d.hX,h.Nt,s.Fj,s.JJ,s.oH]}),e})();const Mt=[{path:"lista",component:M},{path:"crear",component:N},{path:"editar/:id",component:N},{path:"detalles/:id",component:M},{path:"",pathMatch:"full",redirectTo:"lista"}];var Y=o(7775);let Yt=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[m.ez,Y.fC,d.lN,h.c,y.LD,s.u5,s.UX,v.Ps,_.ot,Z.FA,U.XK]}),e})();var Qt=o(7009),Jt=o(4466),qt=o(7084),Lt=o(252);let Dt=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[m.ez,x.SJ,qt.To,v.Ps,_.ot,Lt.o]}),e})(),It=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[m.ez,p.Bz,u.p0,w.TU,_.ot,Qt.ZX,Y.fC,Dt,x.SJ,d.lN,h.c,Jt.m]}),e})(),$t=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[m.ez,p.Bz.forChild(Mt),Yt,It]}),e})()}}]);